
:scrollbar:
:data-uri:
== Creating a STI build

=== The Build File : BuildConfig

// ISSUE: Creating a STI build Slides: The Build File : .* - Need to add some words in these slide

[source,json]
----
{
            "kind": "BuildConfig",
            "apiVersion": "v1beta1",
            "metadata": {
                "name": "simple-openshift-sinatra-sti",
                "creationTimestamp": null
            },
            "triggers": [
                {
                    "type": "github",
                    "github": {
                        "secret": "XZEOkRzImL-R0KxqcLEN"
                    }
                },
                {
                    "type": "generic",
                    "generic": {
                        "secret": "4a3d9dqocP2ajk0zYW7q"
                    }
                }
            ],
            "parameters": {
                "source": {
                    "type": "Git",
                    "git": {
                        "uri": "https://github.com/openshift/simple-openshift-sinatra-sti.git"
                    }
                },
                "strategy": {
                    "type": "STI",
                    "stiStrategy": {
                        "builderImage": "registry.access.redhat.com/openshift3_beta/ruby-20-rhel7",
                        "image": "registry.access.redhat.com/openshift3_beta/ruby-20-rhel7",
                        "clean": true
                    }
                },
                "output": {
                    "to": {
                        "name": "simple-openshift-sinatra-sti"
                    }
                }
            }
        },


----



ifdef::showScript[]

=== Transcript

* In this section we define the triggers we can use to start a rebuild of our application and the parameters who define the repository and the builder image used by the build process.

endif::showScript[]





