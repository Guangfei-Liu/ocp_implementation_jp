:noaudio:
:scrollbar:
:data-uri:
== Deploying a STI build Image

=== Overview

* To create the environment for our build we use the create command on the file we created earlier.
----
$ osc create -f ~/simple-sinatra.json
----

* Using this command we created:
** An ImageRepository entry
** A BuildConfig
** A DeploymentConfig
** A Service
* We could review what  happened, by running this command:

----
$ for i in imagerepository buildconfig deploymentconfig service; do \
> echo $i; osc get $i; echo -e "\n\n"; done
imagerepository
NAME                           DOCKER REPO                                               TAGS
simple-openshift-sinatra-sti   172.30.17.153:5000/sinatra/simple-openshift-sinatra-sti   



buildconfig
NAME                           TYPE      SOURCE
simple-openshift-sinatra-sti   STI       https://github.com/openshift/simple-openshift-sinatra-sti.git



deploymentconfig
NAME                           TRIGGERS                    LATEST VERSION
simple-openshift-sinatra-sti   ConfigChange, ImageChange   0



service
NAME                       LABELS    SELECTOR                                        IP              PORT(S)
simple-openshift-sinatra   <none>    deploymentconfig=simple-openshift-sinatra-sti   172.30.17.225   8080/TCP


----


ifdef::showScript[]

=== Transcript

* You can use the *osc create* command to create the build environment and resources, This doesn't start the build process for our image but creates the requires resources we discussed in the previous slides.

endif::showScript[]



